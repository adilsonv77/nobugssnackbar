<html>
<head>
  <script type="text/javascript" src="dwr/engine.js"></script>
  <script type="text/javascript" src="dwr/interface/UserControl.js"></script>

	<script type="text/javascript" src="nobugs/questionnaire.js"></script>

<script type="text/javascript">

var questionnaire;

function loadQuestionnaire() {
	
	UserControl.login("2", "2", function() {
		
		UserControl.retrieveQuestionnaire(function(q) {
			
			var form = createForm(q);
			document.getElementById("aquiVaiOForm").appendChild(form);
			
		});
		
	});
}

function chamou() {
	document.getElementById("aquiVaiOForm").innerHTML = "Chamou";
}

function callEvent() {
    var evt = document.createEvent('UIEvents');
    evt.initEvent("showWindowPrompt", true, true);  // event type, bubbling, cancelable
    window.dispatchEvent(evt);

}

</script>

</head>

<body >

<script>


var wrapFunc = function(e) {
	chamou();
};
window.addEventListener("showWindowPrompt", wrapFunc, false);
</script>
	<input type="button" value="Load" onclick="loadQuestionnaire()"/>
	<input type="button" value="Chamar evento" onclick="callEvent()"/>
	<div id="aquiVaiOForm"></div>
</body>
</html>
