<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <META HTTP-EQUIV="Pragma" CONTENT="no-cache">
  <meta HTTP-EQUIV="Expires" CONTENT="-1">
  <title>NoBug's Snack Bar</title>

  <link rel="stylesheet" href="css/common.css">
  <link rel="stylesheet" href="css/style.css">
  <link rel="icon" href="images/fav-icon.ico">
  
  <script src="js/_soy/soyutils.js"></script>
  <script src="js/commons/common.js"></script>
  <script src="js/nobugs/variablenamesvalidate.js"></script>
   
  <script src="js/nobugs.js"></script>
</head>
		<body>
			<script type="text/javascript">
				var fAlternative;
				
	    		document.write(editor.start({}, null,
	        		{lang: BlocklyApps.LANG,
	         		langSrc: BlocklyApps.languagePack()}));
	    		
	    		var script = document.createElement('script');
	    		script.src = "js/tests/fliperlanguage.js"; // URL do seu script aqui
	    		document.body.appendChild(script);
	    		
	    		script.onload = function() {
	    			
		    		 var toolbox = nobugspage.toolbox(null, null, 
		    				  {enabled: {
		 				  		 "loop": true, 
						  		   "for": true,
						  		   "whileUntil": true,
						  		   
						  		 "logic": true, "math": true, "vars": true, "function": true}}); 
		    		  
		    			var s = '<category name="Fliper"> <block type="fliper_pegarbola"/> <block type="fliper_dirporta"><value name="PORTA"><block type="cons_porta_p"></block></value></block> <block type="fliper_coloqueBola"><value name="BOLA"><block type="variables_get" id="103"><field name="VAR">bola</field></block></value><value name="SAIDA"><block type="cons_saida_a"></block></value></block> <block type="cons_porta_p"/><block type="cons_porta_r"/><block type="cons_posicao_0"/><block type="cons_posicao_1"/><block type="cons_saida_a"/><block type="cons_saida_b"/><block type="cons_saida_c"/></category>';
		    			s = s + '</xml>';
		    			
		    		toolbox = toolbox.replace('</xml>', s);

		    		toolbox = '<xml><category name="Variáveis" custom="VARIABLE"></category><category name="Condicionais"><block type="controls_if"></block><block type="logic_compare"></block><block type="logic_operation"></block><block type="logic_negate"></block><block type="logic_boolean"></block></category><category name="Matemática"><block type="math_number"></block><block type="math_arithmetic"></block></category><category name="Fliper"> <block type="fliper_pegarbola"/> <block type="fliper_dirporta"><value name="PORTA"><block type="cons_porta_p"></block></value></block> <block type="fliper_coloqueBola"><value name="BOLA"><block type="variables_get" id="103"><field name="VAR">bola</field></block></value><value name="SAIDA"><block type="cons_saida_a"></block></value></block> <block type="cons_porta_p"/><block type="cons_porta_r"/><block type="cons_posicao_0"/><block type="cons_posicao_1"/><block type="cons_saida_a"/><block type="cons_saida_b"/><block type="cons_saida_c"/></category></xml>';
		    		
		    		Blockly.myToolBox = toolbox;
		    		
	    		};
	    		
	            fAlternative = function() {
	            	
		            document.getElementById('genJS').style.display = "inline";
		            //return '<xml xmlns="http://www.w3.org/1999/xhtml"><block deletable="false" editable="false" type="variables_set" id="3" x="223" y="54"><field name="VAR">g</field><value name="VALUE"><block deletable="false" editable="false" type="esteira_entrargarrafa" id="16"></block></value></block></xml>';
	            	//return '<xml><block deletable="false" editable="false" type="controls_if" id="42" x="14" y="4"><value name="IF0"><block deletable="false" editable="false" type="logic_compare" id="43"><field name="OP">EQ</field><value name="A"><block deletable="false" editable="false" type="esteira_qtasGarrafas" id="44"><value name="CAIXA"><block deletable="false" editable="false" type="variables_get" id="45"><field name="VAR">c</field></block></value></block></value><value name="B"><block deletable="false" editable="false" type="math_number" id="46"><field name="NUM">6</field></block></value></block></value></block><block deletable="false" editable="false" type="esteira_andarEsteira" id="7" x="519" y="4"><value name="NUMESTEIRA"><block deletable="false" editable="false" type="math_number" id="8"><field name="NUM">0</field></block></value><value name="PASSOS"><block deletable="false" editable="false" type="math_number" id="9"><field name="NUM">1</field></block></value></block><block deletable="false" editable="false" type="esteira_andarEsteira" id="20" x="518" y="63"><value name="NUMESTEIRA"><block deletable="false" editable="false" type="math_number" id="21"><field name="NUM">0</field></block></value><value name="PASSOS"><block deletable="false" editable="false" type="math_number" id="22"><field name="NUM">1</field></block></value></block><block deletable="false" editable="false" type="controls_if" id="31" x="24" y="114"><mutation else="1"></mutation><value name="IF0"><block deletable="false" editable="false" type="logic_compare" id="32"><field name="OP">EQ</field><value name="A"><block deletable="false" editable="false" type="esteira_corgarrafa" id="33"><value name="ESTEIRA"><block deletable="false" editable="false" type="math_number" id="34"><field name="NUM">6</field></block></value></block></value><value name="B"><block deletable="false" editable="false" type="cons_amarela" id="35"></block></value></block></value></block><block deletable="false" editable="false" type="esteira_andarEsteira" id="28" x="519" y="124"><value name="NUMESTEIRA"><block deletable="false" editable="false" type="math_number" id="29"><field name="NUM">0</field></block></value><value name="PASSOS"><block deletable="false" editable="false" type="math_number" id="30"><field name="NUM">1</field></block></value></block><block deletable="false" editable="false" type="esteira_andarEsteira" id="24" x="517" y="190"><value name="NUMESTEIRA"><block deletable="false" editable="false" type="math_number" id="25"><field name="NUM">0</field></block></value><value name="PASSOS"><block deletable="false" editable="false" type="math_number" id="26"><field name="NUM">1</field></block></value></block><block deletable="false" editable="false" type="controls_if" id="2" x="34" y="266"><mutation else="1"></mutation><value name="IF0"><block deletable="false" editable="false" type="logic_compare" id="3"><field name="OP">EQ</field><value name="A"><block deletable="false" editable="false" type="esteira_corgarrafa" id="4"><value name="ESTEIRA"><block deletable="false" editable="false" type="math_number" id="5"><field name="NUM">1</field></block></value></block></value><value name="B"><block deletable="false" editable="false" type="cons_amarela" id="6"></block></value></block></value></block><block deletable="false" editable="false" type="esteira_andarEsteira" id="47" x="520" y="255"><value name="NUMESTEIRA"><block deletable="false" editable="false" type="variables_get" id="48"><field name="VAR">c</field></block></value><value name="PASSOS"><block deletable="false" editable="false" type="math_number" id="49"><field name="NUM">1</field></block></value></block><block deletable="false" editable="false" type="esteira_andarEsteira" id="15" x="508" y="322"><value name="NUMESTEIRA"><block deletable="false" editable="false" type="math_number" id="16"><field name="NUM">0</field></block></value><value name="PASSOS"><block deletable="false" editable="false" type="math_number" id="17"><field name="NUM">2</field></block></value></block><block deletable="false" editable="false" type="esteira_andarEsteira" id="12" x="505" y="383"><value name="NUMESTEIRA"><block deletable="false" editable="false" type="math_number" id="13"><field name="NUM">0</field></block></value><value name="PASSOS"><block deletable="false" editable="false" type="math_number" id="14"><field name="NUM">2</field></block></value></block><block deletable="false" editable="false" type="esteira_colocarTampa" id="23" x="36" y="453"></block><block deletable="false" editable="false" type="variables_set" id="38" x="246" y="454"><field name="VAR">c</field><value name="VALUE"><block deletable="false" editable="false" type="math_number" id="39"><field name="NUM">2</field></block></value></block><block deletable="false" editable="false" type="esteira_garrafaNaCaixa" id="40" x="460" y="454"><value name="ESTEIRA"><block deletable="false" editable="false" type="variables_get" id="41"><field name="VAR">c</field></block></value></block><block deletable="false" editable="false" type="esteira_encherGarrafa" id="10" x="22" y="522"><value name="BICO"><block deletable="false" editable="false" type="math_number" id="11"><field name="NUM">1</field></block></value></block><block deletable="false" editable="false" type="esteira_encherGarrafa" id="18" x="281" y="525"><value name="BICO"><block deletable="false" editable="false" type="math_number" id="19"><field name="NUM">2</field></block></value></block><block deletable="false" editable="false" type="esteira_entrargarrafa" id="1" x="540" y="519"></block><block deletable="false" editable="false" type="esteira_colarRotulo" id="27" x="19" y="588"></block><block deletable="false" editable="false" type="esteira_novaCaixa" id="50" x="203" y="589"><value name="ESTEIRA"><block deletable="false" editable="false" type="variables_get" id="51"><field name="VAR">c</field></block></value></block><block deletable="false" editable="false" type="variables_set" id="36" x="501" y="578"><field name="VAR">c</field><value name="VALUE"><block deletable="false" editable="false" type="math_number" id="37"><field name="NUM">1</field></block></value></block></xml>';
	            	//return '<xml xmlns="http://www.w3.org/1999/xhtml"><block type="esteira_entrargarrafa" id="46" deletable="false" editable="false" x="881" y="57"><next><block type="controls_if" id="23" deletable="false" editable="false"><mutation else="1"></mutation><value name="IF0"><block type="logic_compare" id="24" deletable="false" editable="false"><field name="OP">EQ</field><value name="A"><block type="esteira_corgarrafa" id="25" deletable="false" editable="false"><value name="ESTEIRA"><block type="math_number" id="26" deletable="false" editable="false"><field name="NUM">1</field></block></value></block></value><value name="B"><block type="cons_amarela" id="27" deletable="false" editable="false"></block></value></block></value><statement name="DO0"><block type="esteira_andarEsteira" id="6" deletable="false" editable="false"><value name="NUMESTEIRA"><block type="math_number" id="7" deletable="false" editable="false"><field name="NUM">0</field></block></value><value name="PASSOS"><block type="math_number" id="8" deletable="false" editable="false"><field name="NUM">1</field></block></value><next><block type="esteira_encherGarrafa" id="42" deletable="false" editable="false"><value name="BICO"><block type="math_number" id="43" deletable="false" editable="false"><field name="NUM">1</field></block></value><next><block type="esteira_andarEsteira" id="34" deletable="false" editable="false"><value name="NUMESTEIRA"><block type="math_number" id="35" deletable="false" editable="false"><field name="NUM">0</field></block></value><value name="PASSOS"><block type="math_number" id="36" deletable="false" editable="false"><field name="NUM">2</field></block></value></block></next></block></next></block></statement><statement name="ELSE"><block type="esteira_andarEsteira" id="31" deletable="false" editable="false"><value name="NUMESTEIRA"><block type="math_number" id="32" deletable="false" editable="false"><field name="NUM">0</field></block></value><value name="PASSOS"><block type="math_number" id="33" deletable="false" editable="false"><field name="NUM">2</field></block></value><next><block type="esteira_encherGarrafa" id="44" deletable="false" editable="false"><value name="BICO"><block type="math_number" id="45" deletable="false" editable="false"><field name="NUM">2</field></block></value><next><block type="esteira_andarEsteira" id="9" deletable="false" editable="false"><value name="NUMESTEIRA"><block type="math_number" id="10" deletable="false" editable="false"><field name="NUM">0</field></block></value><value name="PASSOS"><block type="math_number" id="11" deletable="false" editable="false"><field name="NUM">1</field></block></value></block></next></block></next></block></statement><next><block type="esteira_colocarTampa" id="37" deletable="false" editable="false"><next><block type="esteira_andarEsteira" id="20" deletable="false" editable="false"><value name="NUMESTEIRA"><block type="math_number" id="21" deletable="false" editable="false"><field name="NUM">0</field></block></value><value name="PASSOS"><block type="math_number" id="22" deletable="false" editable="false"><field name="NUM">1</field></block></value><next><block type="esteira_colarRotulo" id="47" deletable="false" editable="false"><next><block type="esteira_andarEsteira" id="17" deletable="false" editable="false"><value name="NUMESTEIRA"><block type="math_number" id="18" deletable="false" editable="false"><field name="NUM">0</field></block></value><value name="PASSOS"><block type="math_number" id="19" deletable="false" editable="false"><field name="NUM">1</field></block></value><next><block type="controls_if" id="12" deletable="false" editable="false"><mutation else="1"></mutation><value name="IF0"><block type="logic_compare" id="13" deletable="false" editable="false"><field name="OP">EQ</field><value name="A"><block type="esteira_corgarrafa" id="14" deletable="false" editable="false"><value name="ESTEIRA"><block type="math_number" id="15" deletable="false" editable="false"><field name="NUM">6</field></block></value></block></value><value name="B"><block type="cons_amarela" id="16" deletable="false" editable="false"></block></value></block></value><statement name="DO0"><block type="variables_set" id="50" deletable="false" editable="false"><field name="VAR">c</field><value name="VALUE"><block type="math_number" id="51" deletable="false" editable="false"><field name="NUM">1</field></block></value></block></statement><statement name="ELSE"><block type="variables_set" id="38" deletable="false" editable="false"><field name="VAR">c</field><value name="VALUE"><block type="math_number" id="39" deletable="false" editable="false"><field name="NUM">2</field></block></value></block></statement><next><block type="esteira_garrafaNaCaixa" id="40" deletable="false" editable="false"><value name="ESTEIRA"><block type="variables_get" id="41" deletable="false" editable="false"><field name="VAR">c</field></block></value><next><block type="controls_if" id="1" deletable="false" editable="false"><value name="IF0"><block type="logic_compare" id="2" deletable="false" editable="false"><field name="OP">EQ</field><value name="A"><block type="esteira_qtasGarrafas" id="3" deletable="false" editable="false"><value name="CAIXA"><block type="variables_get" id="4" deletable="false" editable="false"><field name="VAR">c</field></block></value></block></value><value name="B"><block type="math_number" id="5" deletable="false" editable="false"><field name="NUM">6</field></block></value></block></value><statement name="DO0"><block type="esteira_andarEsteira" id="28" deletable="false" editable="false"><value name="NUMESTEIRA"><block type="variables_get" id="29" deletable="false" editable="false"><field name="VAR">c</field></block></value><value name="PASSOS"><block type="math_number" id="30" deletable="false" editable="false"><field name="NUM">1</field></block></value><next><block type="esteira_novaCaixa" id="48" deletable="false" editable="false"><value name="ESTEIRA"><block type="variables_get" id="49" deletable="false" editable="false"><field name="VAR">c</field></block></value></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></xml>';
	            	return '<xml><block type="variables_set" id="14" x="154" y="29"><field name="VAR">b</field><value name="VALUE"><block type="fliper_pegarbola" id="11"></block></value><next><block type="controls_if" id="34"><mutation else="1"></mutation><value name="IF0"><block type="logic_compare" id="62"><field name="OP">EQ</field><value name="A"><block type="fliper_dirporta" id="45"><value name="PORTA"><block type="cons_porta_p" id="56"></block></value></block></value><value name="B"><block type="cons_posicao_0" id="73"></block></value></block></value><statement name="DO0"><block type="fliper_coloqueBola" id="88"><value name="BOLA"><block type="variables_get" id="103"><field name="VAR">b</field></block></value><value name="SAIDA"><block type="cons_saida_c" id="149"></block></value></block></statement><statement name="ELSE"><block type="controls_if" id="120"><mutation else="1"></mutation><value name="IF0"><block type="logic_compare" id="121"><field name="OP">EQ</field><value name="A"><block type="fliper_dirporta" id="122"><value name="PORTA"><block type="cons_porta_r" id="135"></block></value></block></value><value name="B"><block type="cons_posicao_0" id="124"></block></value></block></value><statement name="DO0"><block type="fliper_coloqueBola" id="136"><value name="BOLA"><block type="variables_get" id="137"><field name="VAR">b</field></block></value><value name="SAIDA"><block type="cons_saida_a" id="114"></block></value></block></statement><statement name="ELSE"><block type="fliper_coloqueBola" id="154"><value name="BOLA"><block type="variables_get" id="155"><field name="VAR">b</field></block></value><value name="SAIDA"><block type="cons_saida_b" id="167"></block></value></block></statement></block></statement></block></next></block></xml>';
            	} ;
 		        var TestRT = {};    	 
	           	var afterGenJS = function(code) {
/*	           		var dirAr = ['\"$$$esquerda\"', '\"$$$direita\"', '\"$$$acima\"', '\"$$$abaixo\"'];
	           		for (var dist = 1; dist <= 11; dist++) {
	           			for (var dir=0; dir < 4; dir++) {
	           				for (var vitam=0; vitam <=1; vitam++) {
	           					var res = PacMan.initTest(dirAr[dir], dist, vitam == 0, 1, 5);
	           					eval(code);
	           					if (!PacMan.evalOutput(res)) {
	           						return false;
	           					}
	           						
	           				}
	           			}
 		           	
	           		}*/
	           		/*
	           		var s = "function test(){TestRT.initTest();for(var g=1;g<=7;g++){try{TestRT.addGarrafa(TestRT.liquidos[0]);eval(code);TestRT.addGarrafa(TestRT.liquidos[1]);eval(code)}catch(ex){return false}}return TestRT.evalOut([[TestRT.liquidos[0],null,null,null,null,null],[TestRT.liquidos[0],TestRT.liquidos[0],TestRT.liquidos[0],TestRT.liquidos[0],TestRT.liquidos[0],TestRT.liquidos[0]]],[[TestRT.liquidos[1],null,null,null,null,null],[TestRT.liquidos[1],TestRT.liquidos[1],TestRT.liquidos[1],TestRT.liquidos[1],TestRT.liquidos[1],TestRT.liquidos[1]]])}test();";
	           		
	           		var f = eval(s);
	           		
	           		return f;
	           		*/
	           		/*
	           		TestRT.initTest()
	           		for (var g = 1; g <= 7; g++) {
	           			
	           			try {
		           			TestRT.addGarrafa(TestRT.liquidos[0]);
    	           			eval(code);
		    	           			
    	           			TestRT.addGarrafa(TestRT.liquidos[1]);
       	           			eval(code);
       	           			
	           				
	           			} catch (ex) {
	           				return false;
	           			}
	           			
	           		}
	           		return TestRT.evalOut([[TestRT.liquidos[0], null, null, null, null, null],
	           		                               [TestRT.liquidos[0], TestRT.liquidos[0], TestRT.liquidos[0], TestRT.liquidos[0], TestRT.liquidos[0], TestRT.liquidos[0]]],
	           		                      [[TestRT.liquidos[1], null, null, null, null, null],
	           		                               [TestRT.liquidos[1], TestRT.liquidos[1], TestRT.liquidos[1], TestRT.liquidos[1], TestRT.liquidos[1], TestRT.liquidos[1]]] );
	           		*/
	           		TestRT.initTest();
	           		for (var g = 1; g <= 3; g++) {
	           			try {
	           				eval(code);
	           			} catch (ex) {
	           				return false;
	           			}
	           		}
	           		return TestRT.evalOut();
	           		
	    		};
	    		
		  		</script>
  		</body>
</html>
