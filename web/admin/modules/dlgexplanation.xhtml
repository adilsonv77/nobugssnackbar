<ui:composition xmlns="http://www.w3c.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:pe="http://primefaces.org/ui/extensions"
	>

	<p:dialog id="explPageDlg" showEffect="fade" hideEffect="fade"
		widgetVar="pageDialog" header="#{msg['pages']}" minHeight="545"
		minWidth="700" width="700" closable="false" style="overflow: hidden !important;"
		modal="true" onShow="PF('pageDialog').initPosition()" dynamic="true">
		
		<h:form style="height:100%;">
			<p:layout style="width:100%;min-height:400px;height:100%;">
				<p:layoutUnit position="center" styleClass="disable-scroll" style="border: none;">
					<pe:ckEditor id="editExplPage" widgetVar="ckEditorExplPage" 
								height="100%" width="100%" value="#{explVC.page.msg}" toolbar="#{explVC.editorControls}">
					</pe:ckEditor>
				</p:layoutUnit>
				<p:layoutUnit position="south" style="border: none;">
					<p:panelGrid columns="2" style="float: right;">
					
						<p:commandButton value="#{msg['ok']}" icon="ui-icon-check"
							update=":tbView:explForm:opList, explPageDlg, growlMsgs"
							actionListener="#{explVC.addPage}" />
							
						<p:commandButton value="#{msg['cancel']}" icon="ui-icon-close"
							update="explPageDlg"
							actionListener="#{explVC.resetPage}" 
							onsuccess="PF('ckEditorExplPage').destroy()"/>
							
					</p:panelGrid>
				</p:layoutUnit>
			</p:layout>
		</h:form>
	</p:dialog>

	<p:dialog widgetVar="confDeleteDlg" header="#{msg['confirmation']}" 
		closable="false" modal="true" 
		resizable="false" dynamic="true">

		<h:form>
			<p:panelGrid columns="3" style="margin: 0 auto; width: 100%;">
				<h:outputText value="#{msg['ruSureDelPage']}" />
				<p:commandButton value="#{msg['yes']}"
					styleClass="ui-confirmdialog-yes" icon="ui-icon-check"
					update=":tbView:explForm" actionListener="#{explVC.deleteExplPage}"
					oncomplete="PF('confDeleteDlg').hide()" />
				<p:commandButton value="#{msg['no']}"
					styleClass="ui-confirmdialog-no" icon="ui-icon-close"
					actionListener="#{explVC.resetPage}"
					oncomplete="PF('confDeleteDlg').hide()" />
			</p:panelGrid>
		</h:form>
	</p:dialog>
</ui:composition>