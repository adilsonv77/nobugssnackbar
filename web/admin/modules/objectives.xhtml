<ui:composition xmlns="http://www.w3c.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:pe="http://primefaces.org/ui/extensions">  
	
	<h:form id="formObjectives">
		<p:panelGrid columns="2" style="margin-bottom: 20px;">
			<span class="my-lightbulb"></span>
			<h:outputText>
				<f:attribute name="value" value="#{msg['objectivesMsg']}"/>
			</h:outputText>
		</p:panelGrid>
		
		
		<p:panelGrid id="objectivesTopElements" columns="4">
	 		
	 		<p:panelGrid>
	 			<h:outputLabel for="reward" value="#{msg['reward']} " />
	        	<p:spinner id="reward" size="5" value="#{objView.objectives.reward}">
	        		<p:ajax process="@this"/>
	        	</p:spinner>	
	        </p:panelGrid>
	        
	        <p:panelGrid columns="3">
				<p:selectBooleanCheckbox id="cbVariableQty" value="#{objView.variableQty}">
					<p:ajax event="change" update="cbVariableQty, variableQty" />
				</p:selectBooleanCheckbox>        	
	 			<h:outputLabel for="variableQty" value="#{msg['variableQuantity']}"/>
	        	<p:spinner id="variableQty" size="5" value="#{objView.objectives.varQtd}" disabled="#{!objView.variableQty}"
	        		prefix="#{!objView.variableQty ? msg['disabled'] : ''}">
	        		<p:ajax process="@this"/>
	        	</p:spinner>
				
				<p:selectBooleanCheckbox id="cbCommandQty" value="#{objView.commandQty}">
					<p:ajax event="change" update="cbCommandQty, commandQty" />
				</p:selectBooleanCheckbox> 				                  
	 			<h:outputLabel for="commandQty" value="#{msg['commandQuantity']}" />
	        	<p:spinner id="commandQty" size="5" value="#{objView.objectives.commQtd}" disabled="#{!objView.commandQty}"
	        		prefix="#{!objView.commandQty ? msg['disabled'] : ''}">
	        		<p:ajax process="@this"/>
	        	</p:spinner>	        	                
			</p:panelGrid>
			
			<p:panelGrid columns="2">
	        	<p:selectBooleanCheckbox value="#{objView.objectives.ordered}">	        
	        		<p:ajax process="@this"/>
	        	</p:selectBooleanCheckbox>
	        	<h:outputText value="#{msg['ordered']}:"/>
	        			    			
				<p:selectBooleanCheckbox value="#{objView.objectives.buttonDebug}">
	        		<p:ajax event="change"/>
	        	</p:selectBooleanCheckbox>				        			    			
	        	<h:outputText value="#{msg['btnDebug']}:"/>        			
			</p:panelGrid>
		
			<p:panelGrid columns="2">
	        	<p:selectBooleanCheckbox value="#{objView.objectives.buttonBuy}">
	        		<p:ajax event="change"/>
	        	</p:selectBooleanCheckbox>	        			    
	        	<h:outputText value="#{msg['btnBuy']}:"/>
	        	
	        	<p:selectBooleanCheckbox value="#{objView.objectives.buttonRun}">
	        		<p:ajax event="change"/>
	        	</p:selectBooleanCheckbox>	        	
	        	<h:outputText value="#{msg['btnRun']}:"/>
	        	        	
	        	<p:selectBooleanCheckbox value="#{objView.objectives.variableWindow}">
	        		<p:ajax event="change"/>
	        	</p:selectBooleanCheckbox>	        	
	        	<h:outputText value="#{msg['variableWindow']}"/>        	        			
			</p:panelGrid>
		
		</p:panelGrid>
		
	
	    <p:fieldset id="bonusTime" legend="#{msg['bonusTime']}" styleClass="fieldsetBonusTime"
	    	toggleable="true" collapsed="#{!objView.bonusTime}"> 
	    	<p:ajax event="toggle" listener="#{objView.handleToggle}"/>
	        
	        <p:panelGrid id="addEditBonusTime" columns="2">  
	               
 				<h:outputLabel for="spinnerBonutTime" value="#{msg['bonusTime']}" />
        		<p:spinner id="spinnerBonutTime" size="5" value="#{objView.objectives.bonusTime}" min="0">	 
        			<p:ajax process="@this"/>
        		</p:spinner>
        		
        		<p:spinner  size="5" value="#{objView.currentBonusTimeReward.value}" min="0" 
        			disabled="#{objView.bonusTimeDisabled}"/>	 
        		<p:panelGrid columns="2">
        			<p:commandButton icon="ui-icon-circle-plus" title="#{msg['add']}" value="#{msg['add']}"
        				actionListener="#{objView.addBonusTime}"/>
        			<p:commandButton icon="ui-icon-arrowstop-1-s" title="#{msg['save']}" value="#{msg['save']}"
        				actionListener="#{objView.saveBonusTime}" disabled="#{objView.bonusTimeDisabled}"/>
        		</p:panelGrid>   
        		    
	        </p:panelGrid>
	        
			<p:dataTable id="dtBonusTime" var="myInt" style="width:60%;"  value="#{objView.listBonusTimeReward}" draggableRows="true">
			    <p:column headerText="#{msg['value']}" width="8">
			        <h:outputText value="#{myInt.value}"/>
			    </p:column>
						 
			    <p:column headerText="#{msg['actions']}" width="30">
			        <p:commandButton icon="ui-icon-wrench" title="#{msg['edit']}"
			        	action="#{objView.editBonusTime}">
			        	<f:setPropertyActionListener value="#{myInt}" target="#{objView.currentBonusTimeReward}"/>
			        </p:commandButton>
			        <p:commandButton icon="ui-icon-circle-close" title="#{msg['delete']}"
			        	 oncomplete="PF('confirmBonusTimeDeleteDialog').show()">
			        	<f:setPropertyActionListener value="#{myInt}" target="#{objView.currentBonusTimeReward}"/>
			        </p:commandButton>
			    </p:column>
			</p:dataTable>	        
	    </p:fieldset>
	    
	    <p:fieldset id="maxCommandBonus" legend="#{msg['maxCommandsBonus']}" toggleable="true"
	    	collapsed="#{!objView.maxCommands}" styleClass="fieldsetMaxxCmdBonus">
	    	<p:ajax event="toggle" listener="#{objView.handleToggle}"/>
	        <p:panelGrid columns="4">         
	 			<h:outputLabel for="quantity" value="#{msg['quantity']} " />
	        	<p:spinner id="quantity" size="5" value="#{objView.objectives.maxCommands}" min="0">
	        		<p:ajax process="@this"/>
	        	</p:spinner>	
	        	
	 			<h:outputLabel for="rewardMaxCmdBonus" value="#{msg['reward']} " />
	        	<p:spinner id="rewardMaxCmdBonus" size="5" value="#{objView.objectives.maxCommandsReward}" min="0">
	        		<p:ajax process="@this"/>
	        	</p:spinner>	        	
	        </p:panelGrid>
	    </p:fieldset>			    
		        
	    <p:fieldset id="AddEditObjective" legend="#{msg['objectives']}" styleClass="fieldsetObjectives">
	        <p:panelGrid columns="4" >         
 				<h:outputLabel for="position" value="#{msg['position']}" />
        		<p:selectOneMenu id="position" value="#{objView.objItem.pos}" disabled="#{objView.objDisabled}"
        			effect="fold" editable="false">
        			<f:selectItems value="#{objView.positions}"/>
        		</p:selectOneMenu>	
        		
 				<h:outputLabel for="type" value="#{msg['type']}" />
        		<p:selectOneMenu id="type" size="1" value="#{objView.objItem.value}" disabled="#{objView.objDisabled}">
        			<f:selectItems value="#{objView.types}"/>
        		</p:selectOneMenu>

 				<h:outputLabel for="place" value="#{msg['place']}" />
				<p:selectOneMenu id="place" value="#{objView.objItem.place}" disabled="#{objView.objDisabled}"
					effect="fold" editable="false">
		            <f:selectItems value="#{objView.places}"/>
		        </p:selectOneMenu>	        		
        		
 				<h:outputLabel for="distinct" value="#{msg['distinct']}" />
        		<p:selectBooleanCheckbox id="distinct" value="#{objView.objItem.distinct}"
        			disabled="#{objView.objDisabled}">
        			<p:ajax event="change"/>
        		</p:selectBooleanCheckbox>	        		    
        		        		    		        		        		 	        
	        </p:panelGrid>
	        
        	<p:commandButton icon="ui-icon-check" title="#{msg['save']}" styleClass="btnObjectives" 
        		value="#{msg['save']}" actionListener="#{objView.SaveObjective}" disabled="#{objView.objDisabled}"/>
        	
        	<p:commandButton icon="ui-icon-close" title="#{msg['cancel']}" styleClass="btnObjectives" 
        		value="#{msg['cancel']}" actionListener="#{objView.canselObjective}" disabled="#{objView.objDisabled}"/>	        
	        
	        <p:commandButton icon="ui-icon-circle-plus" title="#{msg['add']}" value="#{msg['add']}"
	        styleClass="btnAddObjectives" actionListener="#{objView.addObjectiveItem}"/>
	        
			<p:dataTable id="dtObjectives" var="objective" value="#{objView.objList}" draggableRows="true"
				emptyMessage="#{msg['emptyObjectives']}">
			    <p:column headerText="#{msg['position']}">
			        <h:outputText value="#{objective.pos}" />
			    </p:column>
			    
			    <p:column headerText="#{msg['type']}">
			        <h:outputText value="#{objective.value}" />
			    </p:column>			    
						 
			    <p:column headerText="#{msg['actions']}">
			        <p:commandButton icon="ui-icon-wrench" title="#{msg['edit']}"
			        	action="#{objView.editObjective}">
			        	<f:setPropertyActionListener value="#{objective}" target="#{objView.objItem}"/>
			        </p:commandButton>
			        <p:commandButton icon="ui-icon-circle-close" title="#{msg['delete']}"
			        	oncomplete="PF('confirmObjectiveDeleteDialog').show()">
			        	<f:setPropertyActionListener value="#{objective}" target="#{objView.objItem}"/>
			        </p:commandButton>
			    </p:column>
			</p:dataTable>	        
	    </p:fieldset>	    
	
	</h:form>
</ui:composition>