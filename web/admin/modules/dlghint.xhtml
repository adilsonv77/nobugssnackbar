<ui:composition  xmlns="http://www.w3c.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">
	
		<p:dialog id="hintDlg" showEffect="fade" hideEffect="fade" widgetVar="hintDialog" header="#{msg['hints']}" minHeight="40" closable="false"
				modal="true" onShow="PF('hintDialog').initPosition()" maximizable="true" dynamic="true" >
	
			<h:form id="formDlgHints" styleClass="formDlgHints">
				<p:panelGrid columns="2">
						
				    <p:outputLabel for="hintType" value="Hint type:"/>
					<p:selectOneRadio id="hintType" value="#{hintView.hint.type}">
					    <f:selectItem itemLabel="#{msg['tip']}" itemValue="false"/>
					    <f:selectItem itemLabel="#{msg['error']}" itemValue="true" />
					</p:selectOneRadio>
				        
				    <p:outputLabel for="btnChooseCategory" value="#{msg['category']}: "/>
				    <p:panelGrid columns="2">
				    <p:commandButton id="btnChooseCategory" value="#{msg['choose']}" 
				    	oncomplete="PF('chooseHintCategoryDialog').show()" icon="ui-icon-search"/>
				    	<h:outputText value="#{hintView.hint.category}"/>
				    </p:panelGrid>
				    
				    <p:outputLabel for="btnBuildCondition" value="#{msg['condition']}: "/>
				    <p:panelGrid columns="2">
				    	<p:commandButton id="btnBuildCondition" value="#{msg['build']}"
				    		actionListener="#{condVC.newOrEditCondList}"
				    		oncomplete="PF('condBuilderDlg').show()" icon="ui-icon-wrench"
				    		update=":formCondBuilder"/>
				    	<h:outputText value="#{hintView.hint.conditionsAsString}"/>
				    </p:panelGrid>
				    
				    <p:outputLabel for="hintTime" value="#{msg['time']}"/>
				    <p:inputText id="hintTime" value="#{hintView.hint.time}"/>
				    		        
				</p:panelGrid>
				
			    
			    <p:outputLabel for="hintText" value="#{msg['txtExplanation']}: "/>
			    <div class="wrapper" onresize="resizeElementHeight()">
			    <p:editor id="hintText" value="#{hintView.hint.text}" styleClass="dlgHintEditor"/>	
			   <!--  <p:resizable for="hintText" animate="true" effect="swing" effectDuration="normal"/> -->
			    </div>
			    		    
			    <p:panelGrid columns="3" style="float: right;">    
					<div class="btnContainer" >
						<p:commandButton value="#{msg['ok']}" id="btnAddEditHint" icon="ui-icon-check" 
							actionListener="#{hintView.addEditHint}" styleClass="dlgHintBtnOK"
							update=":tbView:formDTT, :tbView:formDTE, :formDlgHints, :formCondBuilder"/>  
	
						<p:commandButton value="#{msg['cancel']}" id="btnCancelHint" icon="ui-icon-close" actionListener="#{hintView.newHint}" 
							oncomplete="PF('hintDialog').hide()" styleClass="dlgHintBtnCancel"/> 
					</div>
				</p:panelGrid>
		    </h:form>	   
		</p:dialog>	
		
		<p:dialog showEffect="fade" hideEffect="fade" widgetVar="confirmDeleteDialog"
			header="#{msg['ruSureDelHint']}" minHeight="40" closable="false" modal="true" onShow="PF('hintDialog').initPosition()"
			resizable="false" dynamic="true">
				
			<p:commandButton value="#{msg['yes']}" icon="ui-icon-check" actionListener="#{hintView.deleteHint}" 
				oncomplete="PF('confirmDeleteDialog').hide()" update=":tbView:formDTE, :tbView:formDTT"/>
			<p:commandButton value="#{msg['no']}" icon="ui-icon-close"  oncomplete="PF('confirmDeleteDialog').hide()" />
		
		</p:dialog>
	
	<ui:include src="dlghintcategoryhelper.xhtml"/>	
	
	<ui:include src="dlgchoosehintcategory.xhtml"/>	
	
	<ui:include src="dlgconditionbuilder.xhtml"/>
	
</ui:composition>