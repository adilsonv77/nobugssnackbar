<ui:composition xmlns="http://www.w3c.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">

	<script>
		var editor;

		// The instanceReady event is fired when an instance of CKEditor has finished
		// its initialization.


		function toggleReadOnly( isReadOnly ) {
			// Change the read-only state of the editor.
			// http://docs.ckeditor.com/#!/api/CKEDITOR.editor-method-setReadOnly
			editor.setReadOnly( isReadOnly );
		}
	</script>

	<!-- Hints in Hint tab -->
	<p:dialog widgetVar="confirmDeleteDialog" header="#{msg['confirmation']}" 
		closable="false" modal="true" 
		resizable="false" dynamic="true">
		<p:panelGrid columns="3" style="margin: 0 auto; width: 100%;">
			<h:outputText value="#{msg['ruSureDelHint']}"/>	
			<p:commandButton value="#{msg['yes']}" icon="ui-icon-check" actionListener="#{hintView.deleteHint}" 
				oncomplete="PF('confirmDeleteDialog').hide()" update=":tbView:formDTE, :tbView:formDTT"
				style="margin-left:10px"/>
			<p:commandButton value="#{msg['no']}" icon="ui-icon-cancel"  oncomplete="PF('confirmDeleteDialog').hide()" />
		</p:panelGrid>
	</p:dialog>
	
	<!-- Explanation -->
	<p:dialog widgetVar="confDeleteExplDlg" header="#{msg['confirmation']}" 
		closable="false" modal="true" 
		resizable="false" dynamic="true">

		<h:form>
			<p:panelGrid columns="3" style="margin: 0 auto; width: 100%;">
				<h:outputText value="#{msg['ruSureDelPage']}" />
				<p:commandButton value="#{msg['yes']}"
					styleClass="ui-confirmdialog-yes" icon="ui-icon-check"
					update=":tbView:explForm" actionListener="#{explVC.deleteExplPage}"
					oncomplete="PF('confDeleteExplDlg').hide()" />
				<p:commandButton value="#{msg['no']}"
					styleClass="ui-confirmdialog-no" icon="ui-icon-cancel"
					actionListener="#{explVC.resetPage}"
					oncomplete="PF('confDeleteExplDlg').hide()" />
			</p:panelGrid>
		</h:form>
	</p:dialog>
	
	<!-- Randomization -->
	<p:dialog widgetVar="randConfirmDeleteDialog" header="#{msg['confirmation']}" 
		closable="false" modal="true" 
		resizable="false" dynamic="true">
		<p:panelGrid columns="3" style="margin: 0 auto; width: 100%;">
			<h:outputText value="#{msg['ruSureDelRand']}"/>		
			<p:commandButton value="#{msg['yes']}" icon="ui-icon-check" actionListener="#{randView.delete()}" 
				style="margin-left:10px" oncomplete="PF('randConfirmDeleteDialog').hide()"/>
			<p:commandButton value="#{msg['no']}" icon="ui-icon-cancel"  oncomplete="PF('randConfirmDeleteDialog').hide()" />
		</p:panelGrid>
	</p:dialog>	
	
	<!-- Objectives -->
	<p:dialog widgetVar="confirmObjectiveDeleteDialog" header="#{msg['confirmation']}" 
		closable="false" modal="true" 
		resizable="false" dynamic="true">
		<p:panelGrid columns="3" style="margin: 0 auto; width: 100%;">
			<h:outputText value="#{msg['ruSureDelObjective']}"/>	
			<p:commandButton value="#{msg['yes']}" icon="ui-icon-check" actionListener="#{objView.delete}" 
				style="margin-left:10px" oncomplete="PF('confirmObjectiveDeleteDialog').hide()"/>
			<p:commandButton value="#{msg['no']}" icon="ui-icon-cancel"  oncomplete="PF('confirmObjectiveDeleteDialog').hide()" />
		</p:panelGrid>
	</p:dialog>

	<!-- Bonus time -->
	<p:dialog widgetVar="confirmBonusTimeDeleteDialog" header="#{msg['confirmation']}" 
		closable="false" modal="true" 
		resizable="false" dynamic="true">
		<p:panelGrid columns="3" style="margin: 0 auto; width: 100%;">
			<h:outputText value="#{msg['ruSureDelBonusTime']}"/>	
			<p:commandButton value="#{msg['yes']}" icon="ui-icon-check" actionListener="#{objView.deleteBonusTime}" 
				style="margin-left:10px" oncomplete="PF('confirmBonusTimeDeleteDialog').hide()"/>
			<p:commandButton value="#{msg['no']}" icon="ui-icon-cancel"  oncomplete="PF('confirmBonusTimeDeleteDialog').hide()" />
		</p:panelGrid>	
	</p:dialog>
	
	<!-- Add hint from DB dialog -->
	<p:dialog showEffect="fade" hideEffect="fade" widgetVar="addHintFromDB"
		header="#{msg['selectHintToAdd']}" minHeight="40" modal="true"
		resizable="false" dynamic="true">
			
		<h:form id="fromAddTipsHintFromDB" style="width:800px; margin-bottom: 30px;">
			<p:outputLabel for="dtTipsHintsDB" value="#{msg['tips']}:"/>
			<p:dataTable id="dtTipsHintsDB" var="hint" value="#{hintDBView.tipsHintFromDB}"
				scrollable="true" scrollHeight="200" scrollRows="10" styleClass="addFromDBDT">		
			    <p:ajax event="rowReorder" listener="#{hintView.onRowReorder}"/>
			    		    
			    
			    <p:column headerText="#{msg['category']}" width="150">
			        <h:outputText value="#{hint.category}" />
			    </p:column>
			 
			    <p:column headerText="#{msg['time']}" width="40">
			        <h:outputText value="#{hint.time}" />
			    </p:column>
			 
			    <p:column headerText="#{msg['text']}" >
			        <h:outputText value="#{hint.text}" styleClass="dataTableEdit" escape="false"/>
			    </p:column>
			 
			    <p:column headerText="#{msg['condition']}">
			        <h:outputText value="#{hint.conditionsAsString}" />
			    </p:column>
			    <p:column headerText="#{msg['actions']}" width="65">
			       
			        <p:commandButton id="addHintFromDB" icon="ui-icon-circle-plus" action="#{hintDBView.addHint}">
			        	<f:setPropertyActionListener value="#{hint}" target="#{hintDBView.hint}"/>
			        </p:commandButton>
			        <p:tooltip for="addHintFromDB" value="#{msg['add']}"/>
			        
			        <p:commandButton id="viewHintFromDB" icon="ui-icon-newwin" action="#{hintDBView.viewHint}"
			        	oncomplete="PF('hintDialog').show()">
			        	<f:setPropertyActionListener value="#{hint}" target="#{hintView.hint}"/>
			        </p:commandButton>		
			        <p:tooltip for="viewHintFromDB" value="#{msg['view']}"/>	        
			                		        
			    </p:column>		    
			</p:dataTable>	
		</h:form>
		
		<h:form id="fromAddErrorsHintFromDB" style="width:800px;">
			<p:outputLabel for="dtErrosHintsDB" value="#{msg['errors']}:"/>
			<p:dataTable id="dtErrosHintsDB" var="hint" value="#{hintDBView.errorsHintFromDB}"
				scrollable="true" scrollHeight="200" scrollRows="10" styleClass="addFromDBDT">		
			    <p:ajax event="rowReorder" listener="#{hintView.onRowReorder}"/>			    		    
			    
			    <p:column headerText="#{msg['category']}" width="150">
			        <h:outputText value="#{hint.category}" />
			    </p:column>
			 
			    <p:column headerText="#{msg['time']}" width="40">
			        <h:outputText value="#{hint.time}" />
			    </p:column>
			 
			    <p:column headerText="#{msg['text']}" >
			        <h:outputText id="addFromDBErrorsText" value="#{hint.text}" styleClass="dataTableEdit" escape="false"/>	
			    </p:column>					   
			 
			    <p:column headerText="#{msg['condition']}">
			        <h:outputText value="#{hint.conditionsAsString}" />
			    </p:column>
			    
			    <p:column headerText="#{msg['actions']}" width="65">
			       
			        <p:commandButton id="addErrorFromDB" icon="ui-icon-circle-plus" action="#{hintDBView.addHint}">
			        	<f:setPropertyActionListener value="#{hint}" target="#{hintDBView.hint}"/>
			        </p:commandButton>
			        <p:tooltip for="addErrorFromDB" value="#{msg['add']}"/>
			        
			        <p:commandButton id="viewErrorFromDB" icon="ui-icon-newwin" action="#{hintDBView.viewHint}"
			        	oncomplete="PF('hintDialog').show()">			        
			        	<f:setPropertyActionListener value="#{hint}" target="#{hintView.hint}"/>
			        </p:commandButton>
			        <p:tooltip for="viewErrorFromDB" value="#{msg['view']}"/>		        
			                		        
			    </p:column>		
			        
			</p:dataTable>	
			
			<p:commandButton value="#{msg['close']}" icon="ui-icon-closethick" 
				style="float:right;" oncomplete="PF('addHintFromDB').hide()"/>	
		</h:form>
	
	</p:dialog>	
	
</ui:composition>